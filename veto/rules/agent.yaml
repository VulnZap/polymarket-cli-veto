version: "1.0"
name: polymarket-agent

description: Autonomous-but-contained profile for agent-driven execution.

rules:
  - id: agent-order-over-25
    name: Require approval above $25 for order placement
    enabled: true
    severity: high
    action: require_approval
    agents:
      - profile/agent
    tools:
      - order_create_limit
      - order_market
    conditions:
      - field: arguments.amount_usd
        operator: greater_than
        value: 25

  - id: agent-outside-hours
    name: Require approval for trading outside configured hours
    enabled: true
    severity: high
    action: require_approval
    agents:
      - profile/agent
    tools:
      - order_create_limit
      - order_market
    conditions:
      - field: arguments.timestamp
        operator: outside_hours
        value:
          start: "08:00"
          end: "20:00"
          timezone: "America/New_York"
          days:
            - mon
            - tue
            - wed
            - thu
            - fri

  - id: agent-cancel-all
    name: Require approval for cancel-all
    enabled: true
    severity: critical
    action: require_approval
    agents:
      - profile/agent
    tools:
      - order_cancel_all

  - id: agent-approve-set
    name: Require approval for on-chain approval setup
    enabled: true
    severity: critical
    action: require_approval
    agents:
      - profile/agent
    tools:
      - approve_set

  - id: agent-block-ctf
    name: Block raw CTF operations
    enabled: true
    severity: critical
    action: block
    agents:
      - profile/agent
    tools:
      - ctf_split
      - ctf_merge
      - ctf_redeem

  - id: agent-block-wallet-ops
    name: Block wallet and key mutation operations
    enabled: true
    severity: critical
    action: block
    agents:
      - profile/agent
    tools:
      - wallet_import
      - wallet_reset
      - clob_delete_api_key
